import streamlit as st
import graphviz

def draw_user_guide():
    st.header("ì‚¬ìš© ê°€ì´ë“œ ë° ì§€ì› ë²”ìœ„")
    st.markdown("#### AIì™€ í•¨ê»˜í•˜ëŠ” ì•½ê´€ ì‹¬ì‚¬, ì´ë ‡ê²Œ ì§„í–‰í•˜ì„¸ìš”.")
    
    st.write("") # ì—¬ë°±

    # 1. íƒ­ì„ ì‚¬ìš©í•˜ì—¬ ì •ë³´ êµ¬ì¡°í™”
    tab1, tab2 = st.tabs(["ì´ìš© ì ˆì°¨ (Workflow)", "ì§€ì› ë²”ìœ„"])
    
    # --- [íƒ­ 1] ì´ìš© ì ˆì°¨ (ì‹œê°í™” ì¤‘ì‹¬) ---
    with tab1:
        st.markdown("#### 1. ì—…ë¬´ íë¦„ë„")
        st.caption("ì…ë ¥ë¶€í„° ìµœì¢… í™•ì •ê¹Œì§€ 4ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.")

        # Graphvizë¥¼ ì´ìš©í•œ ê¹”ë”í•œ í”„ë¡œì„¸ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
        graph = graphviz.Digraph()
        graph.attr(rankdir='LR', size='12,4') # ê°€ë¡œ ë°©í–¥
        graph.attr('node', shape='rect', style='filled', 
                   fillcolor='#f0f2f6', fontname='Malgun Gothic', 
                   fontsize='14', margin='0.2')
        graph.attr('edge', fontsize='12')

        # ë…¸ë“œ ì •ì˜
        graph.node('Input', '1. ì¡°í•­ ì…ë ¥\n(ë¶„ì„ ìš”ì²­)', fillcolor='#e3f2fd') # ê°•ì¡°ìƒ‰
        graph.node('AI', '2. AI ì •ë°€ ì§„ë‹¨\n(ë¶ˆê³µì •/ìœ ì‚¬ì‚¬ë¡€)')
        graph.node('Draft', '3. ê°œì„ ì•ˆ ì œì•ˆ\n(Redline)')
        graph.node('Human', '4. ì „ë¬¸ê°€ ê²€í† \n(ìˆ˜ë½/ìˆ˜ì •/íê¸°)', fillcolor='#fff3e0') # ê°•ì¡°ìƒ‰

        # ì—£ì§€(í™”ì‚´í‘œ) ì—°ê²°
        graph.edge('Input', 'AI')
        graph.edge('AI', 'Draft')
        graph.edge('Draft', 'Human', label=' ì œì•ˆ í™•ì¸')
        graph.edge('Human', 'Draft', label=' ğŸ’¬ ìˆ˜ì • ìš”ì²­\n(Feedback)', style='dashed', color='red')
        graph.edge('Human', 'Human', label=' âœ… ìµœì¢… í™•ì •', color='green')

        st.graphviz_chart(graph)
        
        st.write("") # ì—¬ë°±
        
        st.markdown("#### 2. íš¨ê³¼ì ì¸ ì‚¬ìš©ì„ ìœ„í•œ 3ë‹¨ê³„ ê°€ì´ë“œ")
        
        step1, step2, step3 = st.columns(3)
        
        with step1:
            with st.container(border=True):
                st.markdown("### 1ï¸âƒ£ ì…ë ¥")
                st.markdown("**'í•œ ë²ˆì— í•˜ë‚˜ì”©'**")
                st.caption("""
                ì•½ê´€ ì „ì²´ë¥¼ ë¶™ì—¬ë„£ê¸°ë³´ë‹¤,
                **ë¶„ì„ì´ í•„ìš”í•œ 'ê°œë³„ ì¡°í•­' ë‹¨ìœ„**ë¡œ
                ì…ë ¥í•´ì•¼ AIê°€ ê°€ì¥ ì •í™•í•˜ê²Œ ë¶„ì„í•©ë‹ˆë‹¤.
                
                ì•½ê´€ ì „ì²´ë¥¼ ë„£ê³  ì‹¶ë‹¤ë©´, `PDF(ì „ì²´ ë¬¸ì„œ ë¶„ì„)` ê¸°ëŠ¥ì„ ì´ìš©í•´ì£¼ì„¸ìš”.
                """)
        
        with step2:
            with st.container(border=True):
                st.markdown("### 2ï¸âƒ£ ê²€í† ")
                st.markdown("**'ë¹¨ê°„ íœ ì„ ìƒë‹˜ì²˜ëŸ¼'**")
                st.caption("""
                AIê°€ ì œì•ˆí•œ ê°œì„ ì•ˆì—ì„œ
                **ë³€ê²½ëœ ë¬¸êµ¬(Redline) ìœ„ì£¼**ë¡œ í™•ì¸í•˜ì„¸ìš”.
                ë²•ì  ë‰˜ì•™ìŠ¤ê°€ ìœ ì§€ë˜ì—ˆëŠ”ì§€ ì²´í¬í•©ë‹ˆë‹¤.
                """)
                st.write("")
                st.write("")
                st.write("")
                
        with step3:
            with st.container(border=True):
                st.markdown("### 3ï¸âƒ£ í”¼ë“œë°±")
                st.markdown("**'ë™ë£Œì—ê²Œ ë§í•˜ë“¯ì´'**")
                st.caption("""
                ê²°ê³¼ê°€ ì•„ì‰½ë‹¤ë©´ **êµ¬ì²´ì ìœ¼ë¡œ ëª…ë ¹**í•˜ì„¸ìš”.
                *"~ë¶€ë¶„ì€ ë¹¼ì¤˜", "ì¢€ ë” ê°•í•œ ì–´ì¡°ë¡œ"* ì²˜ëŸ¼
                ëŒ€í™”í•˜ë“¯ ìš”ì²­í•˜ë©´ ì¦‰ì‹œ ìˆ˜ì •í•©ë‹ˆë‹¤.
                """)
                st.write("")
                st.write("")
        
        st.divider()

        # ê¿€íŒ ì„¹ì…˜
        col1, col2 = st.columns(2)
        with col1:
            st.info("ğŸ’¡ **ìˆ˜ì • ìš”ì²­(Feedback) ê¿€íŒ**")
            st.markdown("""
            AIì˜ ì œì•ˆì´ ë§ˆìŒì— ë“¤ì§€ ì•Šìœ¼ë©´ ì±„íŒ…í•˜ë“¯ í¸í•˜ê²Œ ëª…ë ¹í•˜ì„¸ìš”.
            - *"ìœ„ì•½ê¸ˆì„ 5%ë¡œ ë‚®ì¶°ì¤˜"*
            - *"ë¬¸êµ¬ë¥¼ ì¢€ ë” ë¶€ë“œëŸ½ê²Œ ë‹¤ë“¬ì–´ì¤˜"*
            - *"ë²•ì  ê·¼ê±°ë¥¼ ë” ë³´ê°•í•´ì¤˜"*
            """)
            st.caption("ë²•ì  ê·¼ê±°ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ ì ìš©ë©ë‹ˆë‹¤.")
        with col2:
            st.success("âœ¨ **ë¶„ì„ ì™„ë£Œ ê¸°ì¤€**")
            st.markdown("""
            - **[í”¼ë“œë°±]** ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•´ë‹¹ ì¡°í•­ ë¶„ì„ì´ ì™„ë£Œë©ë‹ˆë‹¤.
            - ì™„ë£Œëœ ë‚´ìš©ì€ ìë™ìœ¼ë¡œ ë¡œê·¸ì— ì €ì¥ë©ë‹ˆë‹¤.
            """)

    # --- [íƒ­ 2] ë¶„ì„ ë²”ìœ„ (ì¹´ë“œ UI ì¤‘ì‹¬) ---
    with tab2:
        st.subheader("AIê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒ vs ì—†ëŠ” ê²ƒ")
        st.markdown("ë³¸ ì‹œìŠ¤í…œì€ **'ê°œë³„ ì¡°í•­(Clause)' ë‹¨ìœ„ì˜ ê³µì •ì„± ì‹¬ì‚¬**ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")
        
        st.write("") 

        # 3ë‹¨ ì»¬ëŸ¼ìœ¼ë¡œ O/X ëª…í™•íˆ êµ¬ë¶„
        c1, c2, c3 = st.columns(3)
        
        with c1:
            st.container(border=True)
            st.success("âœ… ë¬¸ì¥/í‘œí˜„ ë ˆë²¨")
            st.markdown("""
            **[ì§€ì› ê¸°ëŠ¥]**
            - **ì˜¤íƒ€ ë° ë¹„ë¬¸** êµì •
            - **ëª¨í˜¸í•œ í‘œí˜„** ê°ì§€
            - **ë…ì†Œ ì¡°í•­** í‚¤ì›Œë“œ ì‹ë³„
            """)
            
        with c2:
            st.container(border=True)
            st.info("âœ… ë²•ì  íš¨ë ¥ ë ˆë²¨")
            st.markdown("""
            **[í•µì‹¬ ê¸°ëŠ¥]**
            - **ë¶ˆê³µì • ìœ í˜•(8ê°œ)** íŒë³„
            - **ê´€ë ¨ ë²•ë ¹** ë§¤ì¹­
            - **ìœ ì‚¬ ì‹¬ê²°ë¡€** ë¹„êµ ê²€ìƒ‰
            """)
            
        with c3:
            st.container(border=True)
            st.warning("âš ï¸ ë¬¸ì„œ êµ¬ì¡° ë ˆë²¨")
            st.markdown("""
            **[ì§€ì› ì œí•œ]**
            - **ë¬¸ì„œ ì„œì‹/ë””ìì¸**
            """)
            
        st.divider()
        st.caption("â€» AIì˜ ë¶„ì„ ê²°ê³¼ëŠ” ë²•ì  íš¨ë ¥ì„ ê°–ì§€ ì•Šìœ¼ë©°, ìµœì¢… íŒë‹¨ ì±…ì„ì€ ë‹´ë‹¹ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.")
    pass

def draw_analysis_scope():
    st.header("ë°ì´í„° êµ¬ì¡°")
    
    col1, col2, col3 = st.columns(3)
    
    with col1:
        with st.container(border=True):
            st.subheader("ì°¸ê³ í•˜ëŠ” ë°ì´í„°-ë§í¬ ì¶”ê°€")
            st.caption("ìµœì‹  ë°ì´í„°ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤.")
            st.markdown("""
            - ì•½ê´€ë²•
            - ì•½ê´€ì‹¬ì‚¬ì§€ì¹¨
            - ê¸ˆìœµì†Œë¹„ìë²• ì‹œí–‰ë ¹
            - ê¸ˆìœµì†Œë¹„ì ë³´í˜¸ì— ê´€í•œ ê°ë… ê·œì •
            - ê³µì •ìœ„ì—ì„œ ë°œí‘œí•œ ë¶ˆê³µì • ì•½ê´€ ì‹œì • ì‚¬ë¡€
            """)
        
    with col2:
        with st.container(border=True):
            st.subheader("ë°ì´í„° êµ¬ì¡°")
            st.markdown("""
            
            """)
        
    with col3:
        with st.container(border=True):
            st.subheader("ë°ì´í„° ì–´ì©Œêµ¬")
            st.markdown("""
            
            """)

    st.divider()
    
    st.header("íŒë‹¨ ê¸°ì¤€ ë³´ê¸°")
    
    col4, col5 = st.columns(2)
    
    with col4: 
        st.subheader("ë²•ë ¹ ê²€ìƒ‰ ë°©ë²•")
        st.markdown("""
        1. ì‚¬ìš©ìì˜ ì§ˆë¬¸ê³¼ ê°€ìƒ ìœ ì‚¬í•œ ë²•ë ¹ 5ê°œ ê²€ìƒ‰
        2. ìœ ì‚¬í•œ ì‚¬ë¡€ 5ê°œ ì¤‘, ìœ ì‚¬ë„ê°€ 50% ì´í•˜ëŠ” ì‚­ì œ
                    """)
        st.markdown("""
        | ìš°ì„ ìˆœìœ„ | ë²•ë ¹ëª… | ë©”ëª¨ |
        | :--- | :--- | :--- |
        | **1** | ì•½ê´€ì˜ ê·œì œì— ê´€í•œ ë²•ë¥  | íŠ¹ë³„ë²•, ìµœìš°ì„  ì ìš© |
        | **2** | ì „ìê¸ˆìœµê±°ë˜ë²• | ë¶„ì•¼ë³„ ê°œë³„ë²• |
        | **3** | ê¸ˆìœµì†Œë¹„ìë³´í˜¸ì— ê´€í•œ ë²•ë¥  | ì¼ë°˜ë²• |
        | **4** | ê¸ˆìœµì†Œë¹„ìë²• ì‹œí–‰ë ¹ | ëŒ€í†µë ¹ë ¹ (í•˜ìœ„ ê·œë²”) |
        | **5** | ê°ë…ê·œì • | ê¸ˆìœµê°ë…ì› ë‚´ë¶€ ê·œì •, í–‰ì •ê·œì¹™ |
        | **6** | ì•½ê´€ì‹¬ì‚¬ì§€ì¹¨ | ë²•ë¥  ì•„ë‹˜, ë²•ì  íš¨ë ¥ ì—†ìŒ (í–‰ì •í•´ì„) |
        """)
        st.caption("ê°ë… ê·œì •ì„ ìª¼ê°¬, ìª¼ê°  ì´ìœ :")
        
        st.subheader("ì‚¬ë¡€ ê²€ìƒ‰ ë°©ë²•")
        st.markdown("""
        1. ì‚¬ìš©ìì˜ ì§ˆë¬¸ê³¼ ê°€ìƒ ìœ ì‚¬í•œ ì‚¬ë¡€ 5ê°œ ê²€ìƒ‰
        2. ìœ ì‚¬í•œ ì‚¬ë¡€ 5ê°œ ì¤‘, ìœ ì‚¬ë„ê°€ 50% ì´í•˜ëŠ” ì‚­ì œ
        3. ë‚¨ì€ ì‚¬ë¡€ ì¤‘, ê°€ì¥ ìµœì‹  ì‚¬ë¡€ 1ê°œë§Œ ì„ íƒ
                    """)

    with col5:
        st.subheader("ê°œì„ ì•ˆ ìƒì„± ë°©ë²•")
        st.markdown("""
        1. ê²€ìƒ‰ëœ ì‚¬ë¡€ + ë²•ë ¹ + ì‚¬ìš©ìì˜ ì§ˆë¬¸ì„ ë°˜ì˜í•˜ì—¬ ê°œì„ ì•ˆ ìƒì„±
                    """)
    pass